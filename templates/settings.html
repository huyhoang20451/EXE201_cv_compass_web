<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/x-icon" href="../static/favicon.ico">
    <link rel="stylesheet" href="/static/css/style.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&icon_names=upload" />
    <title>Cài đặt tài khoản</title>
</head>
<style>
    /* Reset cơ bản */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: Arial, sans-serif;
}

body {
  background: #f8fbff;
}

/* Container chia layout */
.container {
  display: flex;
  min-height: 100vh;
}

/* Sidebar */
.sidebar {
  width: 240px;
  background: #eaf1fb;
  padding: 20px;
}

.sidebar .back-btn {
  background: none;
  border: none;
  font-size: 14px;
  color: #333;
  cursor: pointer;
  margin-bottom: 20px;
}

.sidebar h2 {
  margin-bottom: 20px;
  font-size: 18px;
  font-weight: bold;
}

.sidebar .menu {
  list-style: none;
}

.sidebar .menu li {
  padding: 12px;
  cursor: pointer;
  border-radius: 6px;
  margin-bottom: 5px;
}

.sidebar .menu li:hover,
.sidebar .menu .active {
  background: #fff;
  font-weight: bold;
}

/* Main content */
.main {
  flex: 1;
  padding: 30px 40px;
}

.main h1 {
  text-align: center;
  color: #004aad;
  margin-bottom: 10px;
}

.main h3 {
  margin: 10px 0 20px;
  color: #004aad;
}

/* Profile avatar */
.profile {
  display: flex;
  justify-content: center;
  margin-bottom: 20px;
}

.avatar {
  text-align: center;
}

.avatar img {
  width: 100px;
  height: 100px;
  border-radius: 50%;
  display: block;
  margin: 0 auto 10px;
}

.upload-btn {
  background: #e6e6e6;
  border: 1px solid #ccc;
  padding: 6px 12px;
  border-radius: 6px;
  cursor: pointer;
}

/* Note text */
.note {
  color: red;
  font-size: 14px;
  margin-bottom: 15px;
}

/* Form */
.form {
  background: #fff;
  padding: 20px;
  border-radius: 10px;
  width: 400px;
  margin: 0 auto;
  box-shadow: 0 2px 6px rgba(0,0,0,0.1);
}

.form label {
  display: block;
  margin-bottom: 6px;
  font-weight: 500;
}

.form label span {
  color: red;
}

.form input {
  width: 100%;
  padding: 10px;
  margin-bottom: 15px;
  border-radius: 6px;
  border: 1px solid #ccc;
}

.save-btn {
  background: #f2c94c;
  border: none;
  padding: 12px 20px;
  border-radius: 6px;
  cursor: pointer;
  font-weight: bold;
  display: block;
  margin: 0 auto;
}
</style>
<body style="background-color: #F6FCFF">
    <!--Bắt đầu phần header-->
    <div class="header">
        <div class="header-logo">
            <img src="/static/images/Screenshot 2025-08-25 150046.png" alt="Logo CV Compass">
        </div>
        <div class="header-menu"> <!-- Menu lựa chọn -->
            <ul>
                <li><a method='get' href="/home-logged-in?username={{username}}">Trang chủ</a></li>
                <li><a method="get" href="/aboutus-logged-in?username={{username}}">Về chúng tôi</a></li>
                <li><a method="get" href="/finding-jobs?username={{username}}">Tìm việc làm</a></li>
                <li><a method="get" href="/ocr-scan-logged-in?username={{username}}">Quét CV bằng OCR</a></li>
                <li><a method="get" href="/pricing-user-loggedin?username={{username}}">Gói dịch vụ</a></li>
            </ul>
        </div>
        <div class="header-actions">
            <!--Chào mừng khi đăng nhập thành công-->
            <p id="welcome-user">Chào mừng, {{username}}!</p>
            <p style="display: flex; align-items: center; background-color: #D1E9F6; padding: 5px 10px; border-radius: 5px;"><img style="width: 20px; height: 20px;" src="/static/images/coin.png" alt="Coin"><strong></strong></p>
            <script>
                async function fetchCoin() {
                    try {
                    const response = await fetch(`/api/get-coin?username={{username}}`);
                    const data = await response.json();
                    if (data.success) {
                        document.querySelector('.header-actions strong').textContent = data.coin;
                    } else {
                        console.error('Lỗi khi lấy số coin:', data.msg);
                    }
                } catch (error) {
                    console.error('Lỗi mạng khi lấy số coin:', error);
                }
            }
            // Gọi hàm khi trang được tải
            window.onload = fetchCoin;
            </script>
        </div>
        <div class="user-avatar">
            <img onclick="boxAppear()" style="width: 40px; height: 40px; border-radius: 50%;" src="/static/images/user_avatar.png" alt="User Avatar">
        </div>
        <script>
            function boxAppear() {
                const box = document.createElement('div');
                box.style.position = 'absolute';
                box.style.top = '60px';
                box.style.right = '20px';
                box.style.backgroundColor = '#fff';
                box.style.border = '1px solid #ccc';
                box.style.borderRadius = '5px';
                box.style.boxShadow = '0 2px 10px rgba(0, 0, 0, 0.1)';
                box.style.padding = '10px';
                box.innerHTML = `
                    <p><a href="/edit-profile?username={{username}}" style="text-decoration:none;color:#222;">Hồ sơ của tôi</a></p>
                    <p><a href="/mycv-settings?username={{username}}" style="text-decoration:none;color:#222;">CV của tôi</a></p>
                    <p><a href="/system-settings?username={{username}}" style="text-decoration:none;color:#222;">Cài đặt tài khoản</a></p>
                    <p><a href="/logout" style="text-decoration:none;color:#222;">Đăng xuất</a></p>
                `;
                document.body.appendChild(box);
                document.addEventListener('click', function handleClickOutside(event) {
                    if (!box.contains(event.target) && event.target !== document.querySelector('.user-avatar img')) {
                        box.remove();
                        document.removeEventListener('click', handleClickOutside);
                    }
                });
            }
        </script>
        <div class="header-nhatuyendung">
           <p class="cau_hoi">Bạn là nhà tuyển dụng?</p>
           <p><a href="/business-home" target='_blank'>Đăng tin ngay</a></p>
        </div>
    </div> <!-- kết thúc phần header -->

    <!--Bắt đầu phần introduction-->
    <div class="introduction">
        <div class="background_intro">
            <!-- <img src="../img_bgr.png" alt="Introduction Image"> -->
        </div>
        <div class="content-introduction">
            <div class="title_content">
                <h1>Cài đặt</h1>
            </div>
        </div>
    </div> <!-- kết thúc phần introduction -->
    <div class="container">
        <aside class="sidebar">
            <button class="back-btn">← Quay lại</button>
            <h2>Cài đặt</h2>
            <ul class="menu">
                <li class="active"><a style="text-decoration: none;" href="/edit-profile?username={{username}}">Thông tin cá nhân</a></li>
                <li><a style="text-decoration: none;" href="/mycv-settings?username={{username}}">CV của tôi</a></li>
                <li>Công việc/Đã lưu</li>
                <li>Lịch sử ứng tuyển</li>
                <li><a style="text-decoration: none;" href="/system-settings?username={{username}}">Cài đặt hệ thống</a></li>
            </ul>
        </aside>
        <!--Main content-->
        <main class="main">
            <h1>Cài đặt</h1>
            <h3>Thông tin cá nhân</h3>

            <div class="profile">
                <div class="avatar">
                    <img src="/static/images/user_avatar.png" alt="User Avatar">
                    <button class="upload-btn">Tải ảnh đại diện</button>
                </div>
            </div>

            <p class="note">(*) Các thông tin bắt buộc</p>

            <form class="form">
                <label for="fullname">Họ và tên <span>*</span></label>
                <input type="text" id="fullname" value="{{ username }}" required>

                <label for="email">Email <span>*</span></label>
                <input type="email" id="email" value="" required>

                <label for="phone">Số điện thoại <span>*</span></label>
                <input type="tel" id="phone" value="" required>

                <button type="submit" class="save-btn">Lưu</button>
            </form>
        </main>
    </div>
            <footer class="footer">
        <div class="footer-contact">
            <div class="footer-contact-item">
                <i class="fa fa-phone"></i>
                <span>0123456789</span>
    </div>
    <div class="footer-contact-item">
      <i class="fa fa-envelope"></i>
      <span>hexacode@gmail.com</span>
    </div>
  </div>
  <div class="footer-logo">
    <img src="/static/images/hexacode_logo.png" alt="Hexacode Logo" class="footer-logo-img">
    <div class="footer-logo-text">HEXACODE</div>
  </div>
  <div class="footer-links">
    <div class="footer-links-group">
      <div class="footer-links-title">Overview</div>
      <a href="#">App</a>
    </div>
    <div class="footer-links-group">
      <div class="footer-links-title">Company</div>
      <a href="home_logged_in.html">Home</a>
      <a href="aboutus-logged-in.html">About us</a>
      <a href="pricing-user-loggedin.html">Pricing</a>
    </div>
    <div class="footer-links-group">
      <div class="footer-links-title">Follow us</div>
      <a href="#"><i class="fa fa-facebook"></i> CVCompass</a>
      <a href="#"><i class="fa fa-tiktok"></i> CVCompass</a>
    </div>
  </div>
</footer>
</body>
</html>